{"version":3,"sources":["contexts/SessionContext.js","styles/styledLogin.js","pages/SignIn.js","pages/SignUp.js","styles/styledHeader.js","styles/styledHistory.js","components/MyRequests.js","components/Header.js","components/ShopList.js","styles/styledFooter.js","components/Footer.js","styles/styledShop.js","pages/ShopPage.js","styles/styledCheckout.js","pages/Checkout.js","components/App.js","index.js"],"names":["SessionContext","createContext","Container","styled","div","FormContainer","form","SignIn","useState","email","setEmail","password","setPassword","clicked","setClicked","useContext","session","setSession","users","setUsers","history","useHistory","useEffect","length","axios","get","then","response","data","src","onSubmit","event","preventDefault","user","find","e","alert","requestFormat","userId","request","post","token","push","jsonData","JSON","stringify","localStorage","catch","type","minLength","debounceTimeout","onChange","target","value","placeholder","to","SignUp","username","setUsername","passwordConfirmation","setPasswordConfirmation","HeaderContainter","header","Menu","nav","props","modalStyles","content","top","left","right","bottom","marginRight","transform","backgroundColor","borderRadius","fontSize","fontWeight","padding","color","HistoryScreen","Load","img","MyRequests","modalIsOpen","setIsOpen","loading","setLoading","products","setProducts","totalPrice","setTotalPrice","headers","onClick","isOpen","onRequestClose","style","contentLabel","map","prod","i","title","price","toFixed","replace","productId","Header","delete","Modal","setAppElement","document","getElementById","ShopList","product","cartController","description","productUrl","quantity","setQuantity","ShopContainer","className","FooterContainer","Footer","selectedProducts","forEach","pathname","state","ProductList","main","ShopPage","setSelectedProducts","index","indexOf","splice","CheckoutContainer","ProductsContainer","Products","Checkout","useLocation","cep","setCep","address","setAddress","test","buyFormat","element","App","localData","undefined","parse","Provider","path","component","root","querySelector","ReactDOM","render"],"mappings":"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","file":"static/js/main.25e70f30.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst SessionContext = createContext();\n\nexport default SessionContext;","import styled from 'styled-components';\n\nexport const Container = styled.div`\n    display: flex;\n    height: 80vh;\n    justify-content: center;\n    align-items: center;\n\n    img {\n        width: 40vw;\n        height: 57vh;\n    }\n\n    @media(max-width: 650px) {\n        img {\n            margin-top: 30%;\n            width: 130vw;\n            height: 70vh;\n        }\n    }\n`;\n\nexport const FormContainer = styled.form`\n    width: 40vw;\n    height: 57vh;\n    background-color: #3888c2;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    h1, a {\n        font-family: 'Righteous', cursive;\n        color: #fae52a;\n    }\n\n    h1 {\n        font-size: 22px;\n        margin-top: -20;\n        padding-bottom: 20px;\n    }\n\n    a {\n        padding-top: 10px;\n        cursor: pointer;\n    }\n\n    input, button {\n        width: 90%;\n        border: none;\n        border-radius: 3px;\n        padding: 13px 5px;\n        outline-style: none;\n        color: #3888c2;\n        margin: 5px 0;\n        font-size: 16px;\n        font-weight: bold;\n    }\n\n    input {\n        text-align: center;\n        background-color: #f7f4b2;\n\n        ::placeholder {\n            color: #7ba9d1;\n        }\n    }\n\n    button {\n        margin-top: 20px;\n        background-color: #fae52a;\n        cursor: pointer;\n    }\n\n    button:hover {\n        background-color: #dbd437;\n    }\n\n    @media(max-width: 650px) {\n        margin-top: 30%;\n        width: 100vw;\n        height: 70vh;\n    }\n`;","import React, { useState, useContext, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { DebounceInput } from 'react-debounce-input';\n\nimport SessionContext from '../contexts/SessionContext';\nimport { Container, FormContainer } from '../styles/styledLogin';\n\nexport default function SignIn() {\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [clicked, setClicked] = useState(false);\n    const { session, setSession } = useContext(SessionContext);\n    const [users, setUsers] = useState(null);\n    const history = useHistory();\n\n    useEffect(() => {\n        if(email.length <= 3 && password.length <= 3) return;\n\n        const request = axios.get('https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/users');\n        request.then(response => {\n            setUsers(response.data);\n        });\n    }, [email, password]);\n\n    function sendRequest(event) {\n        event.preventDefault();\n\n        if(email === '' || password === '') {\n            alert('Fill in all the filds');\n            return;\n        }\n\n        const user = users.find(e => {\n            return e.email === email;\n        });\n\n        if(!user) return alert('current user is not registered');\n\n        setClicked(true);\n\n        const requestFormat = { email, password, userId: user.userId };\n        const request = axios.post('https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/sign-in', requestFormat);\n        request.then(response => {\n            const { userId, email, token } = response.data;\n            setSession({...session, userId, email, token});\n            history.push('/shop-page');\n            const jsonData = JSON.stringify({ userId, email, token });\n            localStorage.data = jsonData;\n        });\n        request.catch(response => {\n            alert(response);\n            setClicked(false);\n        });\n    }\n\n    return (\n        <Container>\n            {clicked\n                ? <img src='https://cdn.dribbble.com/users/104417/screenshots/2133269/loadinggram_14_minions_motvion.gif' />\n                : <FormContainer onSubmit={sendRequest} >\n                    <h1>Sign in if you have an account</h1>\n                    <DebounceInput\n                        type='email'\n                        minLength={3}\n                        debounceTimeout={300}\n                        onChange={e => setEmail(e.target.value)}\n                        value={email}\n                        placeholder='e-mail'\n                    />\n                    <DebounceInput\n                        type='password'\n                        minLength={3}\n                        debounceTimeout={300}\n                        onChange={e => setPassword(e.target.value)}\n                        value={password}\n                        placeholder='password'\n                    />\n                    <button type='submit' >Log in</button>\n                    <Link to='/sign-up'>create account</Link>\n                </FormContainer>\n            }\n        </Container>\n    );\n}","import React, {useState} from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { Container, FormContainer } from '../styles/styledLogin';\n\nexport default function SignUp() {\n\n    const [email, setEmail] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [passwordConfirmation, setPasswordConfirmation] = useState('');\n    const [clicked, setClicked] = useState(false);\n    const history = useHistory();\n\n    function sendRequest(event) {\n        event.preventDefault();\n\n        if(email === '' || password === '') {\n            alert('Fill in all the filds');\n            return;\n        } else if(password !== passwordConfirmation) {\n            alert('Passwords dont match');\n            return;\n        }\n\n        setClicked(true);\n        \n        const requestFormat = { email, username, password, passwordConfirmation };\n        const request = axios.post('https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/users', requestFormat);\n\n        request.then(()=> {\n            history.push('/');\n        });\n\n        request.catch(() => {\n            alert('email cadastrado já está em uso');\n            setClicked(false);\n        });\n    }\n\n    return (\n        <Container>\n            {clicked\n                ? <img src='https://cdn.dribbble.com/users/104417/screenshots/2133269/loadinggram_14_minions_motvion.gif' />\n                : <FormContainer onSubmit={sendRequest} >\n                    <h1>Let's create an account</h1>\n                    <input \n                        type='email'\n                        onChange={e => setEmail(e.target.value)}\n                        value={email}\n                        placeholder='e-mail'\n                    />\n                    <input\n                        type='text'\n                        onChange={e => setUsername(e.target.value)}\n                        value={username}\n                        placeholder='username'\n                    />\n                    <input\n                        type='password'\n                        onChange={e => setPassword(e.target.value)}\n                        value={password}\n                        placeholder='password'\n                    />\n                    <input\n                        type='password'\n                        onChange={e => setPasswordConfirmation(e.target.value)}\n                        value={passwordConfirmation}\n                        placeholder='confirm your password'\n                    />\n                    <button type='submit' >Sign Up</button>\n                    <Link to='/'>go back to login page</Link>\n                </FormContainer>\n            }\n        </Container>\n    );\n}","import styled from 'styled-components';\n\nexport const HeaderContainter = styled.header`\n    width: 100vw;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background-color: #3888c2;\n    display: flex;\n    justify-content: space-between;\n    padding: 20px;\n    z-index: 10;\n\n    h1 {\n        font-size: 32px;\n        color: #fae52a;\n    }\n\n    svg {\n        font-size: 32px;\n        color: #fae52a;\n        margin-right: 20px;\n    }\n\n    @media(max-width: 600px) {\n        svg {\n            margin-right: 8px;\n        }\n    }\n`;\n\nexport const Menu = styled.nav`\n    position: fixed;\n    right: 0px;\n    top: ${props => props.clicked ? '65px' : '0px'};\n    background-color: #3888c2;\n    border-radius: 0 0 0 5px;\n    z-index: 1;\n    transition: top .5s ease-in-out;\n    padding: 10px 20px;\n\n    a {\n        display: block;\n        color: #fae52a;\n        padding-top: 8px;\n        cursor: pointer;\n    }\n`;","import styled from 'styled-components';\n\nexport const modalStyles = {\n    content : {\n        top: '55%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)',\n        backgroundColor: '#2f517a',\n        borderRadius: '30px',\n        fontSize: '40px',\n        fontWeight: 'bold',\n        padding: '30px 20px',\n        color: '#FFF'\n    }\n};\n\nexport const HistoryScreen = styled.div`\n    width: 70vw;\n    height: 380px;\n    background-color: #3888c2;\n    color: #f7f4b2;\n    text-align: center;\n    border-radius: 20px;\n    overflow-y: scroll;\n\n    h1 {\n        font-size: 40px;\n        font-weight: bold;\n        padding: 30px 20px;\n    }\n\n    p {\n        font-size: 22px;\n        font-weight: bold;\n        padding: 10px 25%;\n    }\n\n    @media(max-width: 600px) {\n        width: 90vw;\n        height: 38vh;\n        \n         button {\n             width: 30%;\n         }\n    }\n`;\n\nexport const Load = styled.img`\n    width: 50%;\n    margin: 0 25%;\n\n    @media (max-width: 600px) {\n        width: 60vw;\n    }\n`;","import React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport Modal from 'react-modal';\n\nimport SessionContext from '../contexts/SessionContext';\nimport { modalStyles, HistoryScreen, Load } from '../styles/styledHistory';\n\nexport default function MyRequests() {\n\n    const [modalIsOpen, setIsOpen] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const { session } = useContext(SessionContext);\n    const { token, userId } = session;\n    const [products, setProducts] = useState([]);\n    const [totalPrice, setTotalPrice] = useState(0);\n\n    useEffect(() => {\n        if(!userId) return;\n        \n        const request = axios.get(`https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/products/${userId}`, { headers: { 'Authorization': `bearer ${token}`}});\n        request.then(response => {\n            setProducts(response.data.products);\n            setLoading(false);\n            setTotalPrice(response.data.totalPrice);\n        });\n    }, []);\n\n    return(\n        <>\n            <a onClick={() => setIsOpen(true)} >Last buy</a>\n            <Modal\n                isOpen={modalIsOpen}\n                onRequestClose={() => setIsOpen(false)}\n                style={modalStyles}\n                contentLabel=\"purchase history\"\n            >\n                <HistoryScreen>\n                    <h1>Last purchase</h1>\n                    {loading\n                        ? <Load src='https://i.gifer.com/GW5A.gif' />\n                        : products.length !== 0\n                            ? <>\n                                {products.map((prod, i) => (\n                                    <p key={(prod.productId + i) * (i*3)} >{prod.title} {prod.price.toFixed(2).replace('.', ',')}</p>\n                                ))}\n                                <p>total: {totalPrice.toFixed(2).replace('.', ',')}</p>\n                            </>\n                            : <p>Your purchases are still empty</p>   \n                    }\n                </HistoryScreen>\n            </Modal>\n        </>\n    );\n}\n\nModal.setAppElement(document.getElementById('root'));","import React, { useState, useContext } from 'react';\nimport  { BsChevronDown, BsChevronUp } from 'react-icons/bs';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { HeaderContainter, Menu } from '../styles/styledHeader';\nimport SessionContext from '../contexts/SessionContext';\nimport MyRequests from './MyRequests';\n\nexport default function Header() {\n\n    const [clicked, setClicked] = useState(false);\n    const { session } = useContext(SessionContext);\n    const { userId } = session;\n    const history = useHistory();\n\n    function logout() {\n        const request = axios.delete(`https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/sign-out/${userId}`);\n        request.then(() => {\n            history.push('/');\n        });\n        request.catch(response => {\n            alert(response);\n        });\n    }\n\n    return (\n        <>\n            <HeaderContainter>\n                <h1>Minions Shop</h1>\n                {clicked\n                    ? <BsChevronDown onClick={() => setClicked(!clicked)} />\n                    : <BsChevronUp onClick={() => setClicked(!clicked)} />\n                }\n            </HeaderContainter>\n            <Menu clicked={clicked} >\n                <a onClick={logout}>Logout</a>\n                <MyRequests />\n            </Menu>\n        </>\n    );\n}","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { IoIosAddCircle, IoIosRemoveCircle} from 'react-icons/io'\n\nexport default function ShopList(props) {\n\n    const { product, cartController } = props;\n    const { title, description, price, productUrl } = product;\n    const [quantity, setQuantity] = useState(0);\n\n    function addToCart() {\n        setQuantity(quantity + 1);\n        cartController(product, 'add');\n    }\n\n    function removeFromCart() {\n        if(quantity > 1) {\n            setQuantity(quantity - 1);\n        }\n        else {\n            if(quantity === 1) {\n                setQuantity(quantity - 1);\n            }\n        }\n        cartController(product, 'remove');\n    }\n\n    return (\n        <ShopContainer>\n            <img src={productUrl} />\n            <div><strong>{title}</strong><strong>R$ {price}</strong></div>\n            <p>{description}</p>\n            <div>\n                <IoIosAddCircle className='add' onClick={addToCart} />\n                <p>{quantity > 0 ? quantity : ''}</p>\n                <IoIosRemoveCircle  className='remove' onClick={removeFromCart} />\n            </div>\n        </ShopContainer>\n    );\n}\n\nconst ShopContainer = styled.div`\n    height: 300px;\n    width: 15%;\n    border: 2px solid #3888c2;\n    border-radius: 10px;\n    overflow: hidden;\n    margin: 10px 2.5%;\n    position: relative;\n\n    img {\n        width: 100%;\n        height: 65%;\n    }\n\n    strong, p {\n        padding: 5px;\n        color: #3888c2;\n        font-size: 12px;\n    }\n\n    div {\n        display: flex;\n        justify-content: space-between;\n        \n        p {\n            position: absolute;\n            bottom: 5px;\n            left: 47%;\n        }\n    }\n\n    svg {\n        font-size: 25px;\n        color: #3888c2;\n        cursor: pointer;\n\n        &.add {\n            position: absolute;\n            bottom: 5px;\n            left: 5px;\n        }\n\n        &.remove {\n            position: absolute;\n            color: #d1c73f;\n            right: 5px;\n            bottom: 5px;\n        }\n    }\n\n    @media(max-width: 650px) {\n        width: 95%;\n\n        img {\n            height: 72%;\n        }\n    }\n`;","import styled from 'styled-components';\n\nexport const FooterContainer = styled.header`\n    width: 100vw;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    background-color: #3888c2;\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 5%;\n    height: 60px;\n    z-index: 10;\n\n    span {\n        display: flex;\n    }\n\n    svg {\n        color: #fae52a;\n        font-size: 45px;\n        cursor: pointer;\n    }\n\n    h1 {\n        font-size: 32px;\n        color: #fae52a;\n        padding-left: 30px;\n        margin-top: 5px;\n        cursor: pointer;\n    }\n\n    strong {\n        color: #fae52a;\n        padding: 10px 0;\n    }\n\n    @media(max-width: 650px) {\n        strong {\n            margin-top: 4px;\n        }\n    }\n`;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FaOpencart } from 'react-icons/fa';\n\nimport { FooterContainer } from '../styles/styledFooter';\n\nexport default function Footer(props) {\n\n    const { selectedProducts } = props;\n    let totalPrice = 0;\n    \n    selectedProducts.forEach(prod => {\n        totalPrice += prod.price;\n    });\n\n    return (\n        <>\n            <FooterContainer>\n                <span>\n                    <Link to={{ pathname:'/checkout', state: { selectedProducts, totalPrice }}}>\n                        <FaOpencart />\n                    </Link>\n                    <Link to={{ pathname:'/checkout', state: { selectedProducts, totalPrice }}} >     \n                        <h1>Checkout</h1>\n                    </Link>\n                </span>\n                <strong>{totalPrice.toFixed(2).replace('.', ',')}</strong>\n            </FooterContainer>\n        </>\n    );\n}","import styled from 'styled-components';\n\nexport const ProductList = styled.main`\n    padding: 130px 10% 100px 10%;\n    display: flex;\n    flex-wrap: wrap;\n\n    & > img {\n        width: 100%\n        margin-top: 50px;\n    }\n`;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nimport Header from '../components/Header';\nimport ShopList from '../components/ShopList';\nimport Footer from '../components/Footer';\nimport { ProductList } from '../styles/styledShop';\n\nexport default function ShopPage() {\n\n    const [products, setProducts] = useState([]);\n    let [selectedProducts, setSelectedProducts] = useState([]);\n\n    useEffect(() => {\n        const request = axios.get('https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/products');\n\n        request.then(response => {\n            setProducts(response.data);\n        });\n\n        request.catch(() => {\n            alert('something went wrong');\n        });\n    }, []);\n\n    function cartController(product, type) {\n        if(type === 'add') {\n            setSelectedProducts([...selectedProducts, product]);\n        } else {\n            const index = selectedProducts.indexOf(product);\n            selectedProducts.splice(index, 1);\n            setSelectedProducts([...selectedProducts]);\n        }\n    }\n\n    return (\n        <>\n            <Header />\n            <ProductList>\n                {products.length !== 0\n                    ? products.map(product => (\n                        <ShopList\n                            product={product}\n                            cartController={cartController}\n                            key={product.productId}\n                        />\n                    ))\n                    : <img src='https://i.gifer.com/GW5A.gif' />\n                }\n            </ProductList>\n            {selectedProducts.length !== 0\n                ? <Footer selectedProducts={selectedProducts} />\n                : ''\n            }\n        </>\n    );\n}","import styled from 'styled-components';\n\nexport const CheckoutContainer = styled.div`\n    padding: 120px 10% 10px 10%;\n`;\n\nexport const ProductsContainer = styled.div`\n    width: 100%;\n    padding: 20px;\n    border: 2px solid #3888c2;\n    border-radius: 10px;\n\n    form {\n        padding-top: 20px;\n\n        input, textarea, button {\n            width: 100%;\n            border: none;\n            border-radius: 3px;\n            padding: 13px 5px;\n            outline-style: none;\n            margin: 5px 0;\n            font-size: 16px;\n            font-weight: bold;\n            color: #665756;\n        }\n\n        textarea {\n            height: 120px;\n        }\n\n        button {\n            background-color: #3888c2;\n            color: #fae52a;\n        }\n    }\n`;\n\nexport const Products = styled.div`\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n\n    p {\n        margin: 5px 0;\n        font-size: 22px;\n        color: #3888c2;\n    }\n\n    @media(max-width: 600px) {\n        p {\n            margin: 10px 0;\n        }\n    }\n`;","import React, { useContext, useState } from 'react';\nimport axios from 'axios';\nimport { useLocation, useHistory } from 'react-router-dom';\n\nimport Header from '../components/Header';\nimport { CheckoutContainer, ProductsContainer, Products } from '../styles/styledCheckout';\nimport SessionContext from '../contexts/SessionContext';\nimport { DebounceInput } from 'react-debounce-input';\n\nexport default function Checkout() {\n\n    const { state } = useLocation();\n    const { selectedProducts, totalPrice } = state;\n    const [cep, setCep] = useState('');\n    const [address, setAddress] = useState('');\n    const { session } = useContext(SessionContext);\n    const { token, email, userId } = session;\n    const history = useHistory();\n\n    function  purchaseRequest(event) {\n        event.preventDefault()\n\n        const format = /^[0-9]{5}\\-[0-9]{3}$/;\n\n        if(!format.test(cep)) {\n            alert('invalid cep');\n            return;\n        } else if(address === '') {\n            alert('fill in all the filds');\n            return;\n        }\n\n        const buyFormat = {userId, email, cep, address, totalPrice, 'products': selectedProducts};\n\n        const request = axios.post('https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/user/products', buyFormat, { headers: { 'Authorization': `bearer ${token}`}});\n        request.then(() => {\n            alert('success!');\n            history.push('/shop-page');\n        })\n        request.catch((response) => {\n            alert(`${response} - your request has failed please try again`);\n        })\n    }\n\n    return (\n        <>\n            <Header />\n            <CheckoutContainer>\n                <ProductsContainer>\n                    {selectedProducts.map((prod, i) => (\n                        <Products key={prod.productId + 5*i}> \n                            <p>{i + 1}</p>\n                            <p>{prod.title}</p>\n                            <p>{prod.price.toFixed(2).replace('.', ',')}</p>\n                        </Products>\n                    ))}\n                    <Products>\n                        <p>Total</p>\n                        <p>{totalPrice.toFixed(2).replace('.', ',')}</p>\n                    </Products>\n                    <form onSubmit={purchaseRequest}>\n                        <DebounceInput\n                            type='text' \n                            minLength={8}\n                            debounceTimeout={300}\n                            onChange={e => setCep(e.target.value)} \n                            value={cep} \n                            placeholder='cep: 12345-678'\n                        />\n                        <DebounceInput \n                            type='text'\n                            element=\"textarea\"\n                            minLength={5}\n                            debounceTimeout={400}\n                            onChange={e => setAddress(e.target.value)} \n                            value={address} \n                            placeholder='address'\n                        />\n                        <button type='submit' >BUY</button>\n                    </form>\n                </ProductsContainer>\n            </CheckoutContainer>\n        </>\n    );\n}","import React, { useState } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport SignIn from '../pages/SignIn';\nimport SignUp from '../pages/SignUp';\nimport ShopPage from '../pages/ShopPage';\nimport Checkout from '../pages/Checkout';\nimport SessionContext from '../contexts/SessionContext';\n\nexport default function App() {\n\n    const localData = localStorage.data !== undefined ? JSON.parse(localStorage.data) : {};\n    const [session, setSession] = useState(localData);\n\n    return (\n        <SessionContext.Provider value={{ session, setSession }} >\n            <Router>\n                <Switch>\n                    <Route path='/sign-up' component={SignUp} />\n                    <Route path='/checkout' component={Checkout} />\n                    <Route path='/shop-page' component={ShopPage} />\n                    <Route path='/' component={SignIn} />\n                </Switch>\n            </Router>\n        </SessionContext.Provider>\n    );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\n\nvar root = document.querySelector(\"#root\");\n\nReactDOM.render(<App />, root);"],"sourceRoot":""}