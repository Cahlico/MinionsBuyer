{"version":3,"sources":["contexts/SessionContext.js","styles/styledLogin.js","pages/SignIn.js","pages/SignUp.js","styles/styledHeader.js","styles/styledHistory.js","components/MyRequests.js","components/Header.js","styles/styledShopList.js","components/ShopList.js","styles/styledFooter.js","components/Footer.js","styles/styledShop.js","pages/ShopPage.js","styles/styledCheckout.js","pages/Checkout.js","components/App.js","index.js"],"names":["SessionContext","createContext","Container","styled","div","FormContainer","form","SignIn","useState","email","setEmail","password","setPassword","clicked","setClicked","useContext","session","setSession","users","setUsers","history","useHistory","useEffect","length","axios","get","then","response","data","src","onSubmit","event","preventDefault","user","find","e","alert","requestFormat","userId","request","post","token","push","jsonData","JSON","stringify","localStorage","catch","type","minLength","debounceTimeout","onChange","target","value","placeholder","to","SignUp","username","setUsername","passwordConfirmation","setPasswordConfirmation","HeaderContainter","header","Menu","nav","props","modalStyles","content","top","left","right","bottom","marginRight","transform","backgroundColor","borderRadius","fontSize","fontWeight","padding","color","HistoryScreen","img","MyRequests","modalIsOpen","setIsOpen","products","setProducts","totalPrice","setTotalPrice","headers","onClick","isOpen","onRequestClose","style","contentLabel","map","prod","i","title","price","toFixed","replace","productId","Header","loading","setLoading","delete","Modal","setAppElement","document","getElementById","ShopContainer","ShopList","product","cartController","description","productUrl","quantity","setQuantity","className","FooterContainer","Footer","selectedProducts","forEach","pathname","state","ProductList","main","ShopPage","setSelectedProducts","index","indexOf","splice","CheckoutContainer","ProductsContainer","Products","Checkout","useLocation","cep","setCep","address","setAddress","test","buyFormat","element","App","localData","undefined","parse","Provider","path","component","root","querySelector","ReactDOM","render"],"mappings":"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","file":"static/js/main.fa5928e4.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst SessionContext = createContext();\n\nexport default SessionContext;","import styled from 'styled-components';\n\nexport const Container = styled.div`\n    display: flex;\n    height: 80vh;\n    justify-content: center;\n    align-items: center;\n\n    img {\n        width: 40vw;\n        height: 57vh;\n    }\n\n    @media(max-width: 650px) {\n        img {\n            margin-top: 30%;\n            width: 130vw;\n            height: 70vh;\n        }\n    }\n`;\n\nexport const FormContainer = styled.form`\n    width: 40vw;\n    height: 57vh;\n    background-color: #3888c2;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    h1, a {\n        font-family: 'Righteous', cursive;\n        color: #fae52a;\n    }\n\n    h1 {\n        font-size: 22px;\n        margin-top: -20;\n        padding-bottom: 20px;\n    }\n\n    a {\n        padding-top: 10px;\n        cursor: pointer;\n    }\n\n    input, button {\n        width: 90%;\n        border: none;\n        border-radius: 3px;\n        padding: 13px 5px;\n        outline-style: none;\n        color: #3888c2;\n        margin: 5px 0;\n        font-size: 16px;\n        font-weight: bold;\n    }\n\n    input {\n        text-align: center;\n        background-color: #f7f4b2;\n\n        ::placeholder {\n            color: #7ba9d1;\n        }\n    }\n\n    button {\n        margin-top: 20px;\n        background-color: #fae52a;\n        cursor: pointer;\n    }\n\n    button:hover {\n        background-color: #dbd437;\n    }\n\n    @media(max-width: 650px) {\n        margin-top: 30%;\n        width: 100vw;\n        height: 70vh;\n    }\n`;","import React, { useState, useContext, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { DebounceInput } from 'react-debounce-input';\n\nimport SessionContext from '../contexts/SessionContext';\nimport { Container, FormContainer } from '../styles/styledLogin';\n\nexport default function SignIn() {\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [clicked, setClicked] = useState(false);\n    const { session, setSession } = useContext(SessionContext);\n    const [users, setUsers] = useState(null);\n    const history = useHistory();\n\n    useEffect(() => {\n        if(email.length <= 3 && password.length <= 3) return;\n\n        const request = axios.get('https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/users');\n        request.then(response => {\n            setUsers(response.data);\n        });\n    }, [email, password]);\n\n    function sendRequest(event) {\n        event.preventDefault();\n\n        if(email === '' || password === '') {\n            alert('Fill in all the filds');\n            return;\n        }\n\n        const user = users.find(e => {\n            return e.email === email;\n        });\n\n        if(!user) return alert('current user is not registered');\n\n        setClicked(true);\n\n        const requestFormat = { email, password, userId: user.userId };\n        const request = axios.post('https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/sign-in', requestFormat);\n        request.then(response => {\n            const { userId, email, token } = response.data;\n            setSession({...session, userId, email, token});\n            history.push('/shop-page');\n            const jsonData = JSON.stringify({ userId, email, token });\n            localStorage.data = jsonData;\n        });\n        request.catch(response => {\n            alert('incorrect email or password');\n            setClicked(false);\n        });\n    }\n\n    return (\n        <Container>\n            {clicked\n                ? <img src='https://cdn.dribbble.com/users/104417/screenshots/2133269/loadinggram_14_minions_motvion.gif' />\n                : <FormContainer onSubmit={sendRequest} >\n                    <h1>Sign in if you have an account</h1>\n                    <DebounceInput\n                        type='email'\n                        minLength={3}\n                        debounceTimeout={300}\n                        onChange={e => setEmail(e.target.value)}\n                        value={email}\n                        placeholder='e-mail'\n                    />\n                    <DebounceInput\n                        type='password'\n                        minLength={3}\n                        debounceTimeout={300}\n                        onChange={e => setPassword(e.target.value)}\n                        value={password}\n                        placeholder='password'\n                    />\n                    <button type='submit' >Log in</button>\n                    <Link to='/sign-up'>create account</Link>\n                </FormContainer>\n            }\n        </Container>\n    );\n}","import React, {useState} from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { Container, FormContainer } from '../styles/styledLogin';\n\nexport default function SignUp() {\n\n    const [email, setEmail] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [passwordConfirmation, setPasswordConfirmation] = useState('');\n    const [clicked, setClicked] = useState(false);\n    const history = useHistory();\n\n    function sendRequest(event) {\n        event.preventDefault();\n\n        if(email === '' || password === '') {\n            alert('Fill in all the filds');\n            return;\n        } else if(password !== passwordConfirmation) {\n            alert('Passwords dont match');\n            return;\n        }\n\n        setClicked(true);\n        \n        const requestFormat = { email, username, password, passwordConfirmation };\n        const request = axios.post('https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/users', requestFormat);\n\n        request.then(()=> {\n            history.push('/');\n        });\n\n        request.catch(() => {\n            alert('current email already attached to an account');\n            setClicked(false);\n        });\n    }\n\n    return (\n        <Container>\n            {clicked\n                ? <img src='https://cdn.dribbble.com/users/104417/screenshots/2133269/loadinggram_14_minions_motvion.gif' />\n                : <FormContainer onSubmit={sendRequest} >\n                    <h1>Let's create an account</h1>\n                    <input \n                        type='email'\n                        onChange={e => setEmail(e.target.value)}\n                        value={email}\n                        placeholder='e-mail'\n                    />\n                    <input\n                        type='text'\n                        onChange={e => setUsername(e.target.value)}\n                        value={username}\n                        placeholder='username'\n                    />\n                    <input\n                        type='password'\n                        onChange={e => setPassword(e.target.value)}\n                        value={password}\n                        placeholder='password'\n                    />\n                    <input\n                        type='password'\n                        onChange={e => setPasswordConfirmation(e.target.value)}\n                        value={passwordConfirmation}\n                        placeholder='confirm your password'\n                    />\n                    <button type='submit' >Sign Up</button>\n                    <Link to='/'>go back to login page</Link>\n                </FormContainer>\n            }\n        </Container>\n    );\n}","import styled from 'styled-components';\n\nexport const HeaderContainter = styled.header`\n    width: 100vw;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background-color: #3888c2;\n    display: flex;\n    justify-content: space-between;\n    padding: 20px;\n    z-index: 10;\n\n    h1 {\n        font-size: 32px;\n        color: #fae52a;\n    }\n\n    svg {\n        font-size: 32px;\n        color: #fae52a;\n        margin-right: 20px;\n    }\n\n    @media(max-width: 600px) {\n        svg {\n            margin-right: 8px;\n        }\n    }\n`;\n\nexport const Menu = styled.nav`\n    position: fixed;\n    right: 0px;\n    top: ${props => props.clicked ? '65px' : '0px'};\n    background-color: #3888c2;\n    border-radius: 0 0 0 5px;\n    z-index: 1;\n    transition: top .5s ease-in-out;\n    padding: 10px 20px;\n\n    a {\n        display: block;\n        color: #fae52a;\n        padding-top: 8px;\n        cursor: pointer;\n    }\n\n    img {\n        height: 30px;\n    }\n`;","import styled from 'styled-components';\n\nexport const modalStyles = {\n    content : {\n        top: '55%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)',\n        backgroundColor: '#2f517a',\n        borderRadius: '30px',\n        fontSize: '40px',\n        fontWeight: 'bold',\n        padding: '30px 20px',\n        color: '#FFF'\n    }\n};\n\nexport const HistoryScreen = styled.div`\n    width: 70vw;\n    height: 380px;\n    background-color: #3888c2;\n    color: #f7f4b2;\n    text-align: center;\n    border-radius: 20px;\n    overflow-y: scroll;\n    position: relative;\n\n    h1 {\n        font-size: 40px;\n        font-weight: bold;\n        padding: 30px 20px;\n    }\n\n    p {\n        font-size: 22px;\n        font-weight: bold;\n        padding: 10px 25%;\n    }\n\n    svg {\n        position: absolute;\n        font-size: 20px;\n        color: #f7f4b2;\n        top: 10px;\n        right: 15px;\n    }\n\n    @media(max-width: 600px) {\n        width: 90vw;\n        height: 70vh;\n        \n         button {\n             width: 30%;\n         }\n    }\n`;\n\nexport const Load = styled.img`\n    width: 50%;\n    margin: 0 25%;\n\n    @media (max-width: 600px) {\n        width: 60vw;\n    }\n`;","import React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport Modal from 'react-modal';\nimport { IoIosClose } from 'react-icons/io';\n\nimport SessionContext from '../contexts/SessionContext';\nimport { modalStyles, HistoryScreen, Load } from '../styles/styledHistory';\n\nexport default function MyRequests() {\n\n    const [modalIsOpen, setIsOpen] = useState(false);\n    const { session } = useContext(SessionContext);\n    const { token, userId } = session;\n    const [products, setProducts] = useState([]);\n    const [totalPrice, setTotalPrice] = useState(0);\n\n    useEffect(() => {\n        if(!userId) return;\n        \n        const request = axios.get(`https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/products/${userId}`, { headers: { 'Authorization': `bearer ${token}`}});\n        request.then(response => {\n            setProducts(response.data.products);\n            setTotalPrice(response.data.totalPrice);\n        });\n    }, []);\n\n    return(\n        <>\n            <a onClick={() => setIsOpen(true)} >Last buy</a>\n            <Modal\n                isOpen={modalIsOpen}\n                onRequestClose={() => setIsOpen(false)}\n                style={modalStyles}\n                contentLabel=\"purchase history\"\n            >\n                <HistoryScreen>\n                    <IoIosClose onClick={() => setIsOpen(false)} />\n                    <h1>Last purchase</h1>\n                    {products.length !== 0\n                            ? <>\n                                {products.map((prod, i) => (\n                                    <p key={(prod.productId + i) * (i*3)} >{prod.title} {prod.price.toFixed(2).replace('.', ',')}</p>\n                                ))}\n                                <p>total: {totalPrice.toFixed(2).replace('.', ',')}</p>\n                            </>\n                            : <p>Your purchases are still empty</p>\n                    }\n                </HistoryScreen>\n            </Modal>\n        </>\n    );\n}\n\nModal.setAppElement(document.getElementById('root'));","import React, { useState, useContext } from 'react';\nimport  { BsChevronDown, BsChevronUp } from 'react-icons/bs';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { HeaderContainter, Menu } from '../styles/styledHeader';\nimport SessionContext from '../contexts/SessionContext';\nimport MyRequests from './MyRequests';\n\nexport default function Header() {\n\n    const [clicked, setClicked] = useState(false);\n    const { session } = useContext(SessionContext);\n    const { userId } = session;\n    const history = useHistory();\n    const [loading, setLoading] = useState(false);\n\n    function logout() {\n        setLoading(true);\n\n        const request = axios.delete(`https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/sign-out/${userId}`);\n        request.then(() => {\n            history.push('/');\n        });\n        request.catch(response => {\n            alert(response);\n            setLoading(false);\n        });\n    }\n\n    return (\n        <>\n            <HeaderContainter>\n                <Link to='/shop-page'><h1>Minions Shop</h1></Link>\n                {clicked\n                    ? <BsChevronDown onClick={() => setClicked(!clicked)} />\n                    : <BsChevronUp onClick={() => setClicked(!clicked)} />\n                }\n            </HeaderContainter>\n            <Menu clicked={clicked} >\n                {loading\n                    ? <img src='https://www.belmahotels.com/wp-content/themes/belma_child/img/loader.gif' />\n                    :  <a onClick={logout}>Logout</a>\n                }\n                <MyRequests />\n            </Menu>\n        </>\n    );\n}","import styled from 'styled-components';\n\nexport const ShopContainer = styled.div`\n    height: 300px;\n    width: 15%;\n    border: 2px solid #3888c2;\n    border-radius: 10px;\n    overflow: hidden;\n    margin: 10px 2.5%;\n    position: relative;\n\n    img {\n        width: 100%;\n        height: 65%;\n    }\n\n    strong, p {\n        padding: 5px;\n        color: #3888c2;\n        font-size: 12px;\n    }\n\n    div {\n        display: flex;\n        justify-content: space-between;\n        \n        p {\n            position: absolute;\n            bottom: 5px;\n            left: 47%;\n        }\n    }\n\n    svg {\n        font-size: 25px;\n        color: #3888c2;\n        cursor: pointer;\n\n        &.add {\n            position: absolute;\n            bottom: 5px;\n            left: 5px;\n        }\n\n        &.remove {\n            position: absolute;\n            color: #d1c73f;\n            right: 5px;\n            bottom: 5px;\n        }\n    }\n\n    @media(max-width: 650px) {\n        width: 95%;\n\n        img {\n            height: 72%;\n        }\n    }\n`;","import React, { useState, useEffect } from 'react';\nimport { IoIosAddCircle, IoIosRemoveCircle} from 'react-icons/io';\nimport { ShopContainer } from '../styles/styledShopList';\n\nexport default function ShopList(props) {\n\n    const { product, cartController } = props;\n    const { title, description, price, productUrl } = product;\n    const [quantity, setQuantity] = useState(0);\n\n    function addToCart() {\n        setQuantity(quantity + 1);\n        cartController(product, 'add');\n    }\n\n    function removeFromCart() {\n        if(quantity > 1) {\n            setQuantity(quantity - 1);\n        }\n        else {\n            if(quantity === 1) {\n                setQuantity(quantity - 1);\n            }\n        }\n        cartController(product, 'remove');\n    }\n\n    return (\n        <ShopContainer>\n            <img src={productUrl} />\n            <div><strong>{title}</strong><strong>R$ {price}</strong></div>\n            <p>{description}</p>\n            <div>\n                <IoIosAddCircle className='add' onClick={addToCart} />\n                <p>{quantity > 0 ? quantity : ''}</p>\n                <IoIosRemoveCircle  className='remove' onClick={removeFromCart} />\n            </div>\n        </ShopContainer>\n    );\n}","import styled from 'styled-components';\n\nexport const FooterContainer = styled.header`\n    width: 100vw;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    background-color: #3888c2;\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 5%;\n    height: 60px;\n    z-index: 10;\n\n    span {\n        display: flex;\n    }\n\n    svg {\n        color: #fae52a;\n        font-size: 45px;\n        cursor: pointer;\n    }\n\n    h1 {\n        font-size: 32px;\n        color: #fae52a;\n        padding-left: 30px;\n        margin-top: 5px;\n        cursor: pointer;\n    }\n\n    strong {\n        color: #fae52a;\n        padding: 10px 0;\n    }\n\n    @media(max-width: 650px) {\n        strong {\n            margin-top: 4px;\n        }\n    }\n`;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FaOpencart } from 'react-icons/fa';\n\nimport { FooterContainer } from '../styles/styledFooter';\n\nexport default function Footer(props) {\n\n    const { selectedProducts } = props;\n    let totalPrice = 0;\n    \n    selectedProducts.forEach(prod => {\n        totalPrice += prod.price;\n    });\n\n    return (\n        <>\n            <FooterContainer>\n                <span>\n                    <Link to={{ pathname:'/checkout', state: { selectedProducts, totalPrice }}}>\n                        <FaOpencart />\n                    </Link>\n                    <Link to={{ pathname:'/checkout', state: { selectedProducts, totalPrice }}} >     \n                        <h1>Checkout</h1>\n                    </Link>\n                </span>\n                <strong>{totalPrice.toFixed(2).replace('.', ',')}</strong>\n            </FooterContainer>\n        </>\n    );\n}","import styled from 'styled-components';\n\nexport const ProductList = styled.main`\n    padding: 130px 10% 100px 10%;\n    display: flex;\n    flex-wrap: wrap;\n\n    & > img {\n        width: 100%\n        margin-top: 50px;\n    }\n\n    media(max-width: 650px)} {\n        padding: 130px 10% 100px 10%;\n\n        & > img {\n            padding-top: 10%;\n            width: 80vw;\n        }\n    }\n`;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nimport Header from '../components/Header';\nimport ShopList from '../components/ShopList';\nimport Footer from '../components/Footer';\nimport { ProductList } from '../styles/styledShop';\n\nexport default function ShopPage() {\n\n    const [products, setProducts] = useState([]);\n    let [selectedProducts, setSelectedProducts] = useState([]);\n\n    useEffect(() => {\n        const request = axios.get('https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/products');\n\n        request.then(response => {\n            setProducts(response.data);\n        });\n\n        request.catch(() => {\n            alert('something went wrong, please reload the page');\n        });\n    }, []);\n\n    function cartController(product, type) {\n        if(type === 'add') {\n            setSelectedProducts([...selectedProducts, product]);\n        } else {\n            const index = selectedProducts.indexOf(product);\n            selectedProducts.splice(index, 1);\n            setSelectedProducts([...selectedProducts]);\n        }\n    }\n\n    return (\n        <>\n            <Header />\n            <ProductList>\n                {products.length !== 0\n                    ? products.map(product => (\n                        <ShopList\n                            product={product}\n                            cartController={cartController}\n                            key={product.productId}\n                        />\n                    ))\n                    : <img src='https://i.gifer.com/GW5A.gif' />\n                }\n            </ProductList>\n            {selectedProducts.length !== 0\n                ? <Footer selectedProducts={selectedProducts} />\n                : ''\n            }\n        </>\n    );\n}","import styled from 'styled-components';\n\nexport const CheckoutContainer = styled.div`\n    padding: 120px 10% 10px 10%;\n`;\n\nexport const ProductsContainer = styled.div`\n    width: 100%;\n    padding: 20px;\n    border: 2px solid #3888c2;\n    border-radius: 10px;\n\n    form {\n        padding-top: 20px;\n\n        input, textarea, button {\n            width: 100%;\n            border: none;\n            border-radius: 3px;\n            padding: 13px 5px;\n            outline-style: none;\n            margin: 5px 0;\n            font-size: 16px;\n            font-weight: bold;\n            color: #665756;\n        }\n\n        textarea {\n            height: 120px;\n        }\n\n        button {\n            background-color: #3888c2;\n            color: #fae52a;\n        }\n    }\n\n    img {\n        padding-top: 20px;\n        margin-left: 3%;\n        width: 30%;\n    }\n`;\n\nexport const Products = styled.div`\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n\n    p {\n        margin: 5px 0;\n        font-size: 22px;\n        color: #3888c2;\n    }\n\n    @media(max-width: 600px) {\n        p {\n            margin: 10px 0;\n        }\n    }\n`;","import React, { useContext, useState } from 'react';\nimport axios from 'axios';\nimport { useLocation, useHistory } from 'react-router-dom';\n\nimport Header from '../components/Header';\nimport { CheckoutContainer, ProductsContainer, Products } from '../styles/styledCheckout';\nimport SessionContext from '../contexts/SessionContext';\nimport { DebounceInput } from 'react-debounce-input';\n\nexport default function Checkout() {\n\n    const { state } = useLocation();\n    const { selectedProducts, totalPrice } = state;\n    const [cep, setCep] = useState('');\n    const [address, setAddress] = useState('');\n    const { session } = useContext(SessionContext);\n    const { token, email, userId } = session;\n    const history = useHistory();\n    const [loading, setLoading] = useState(false);\n\n    function  purchaseRequest(event) {\n        event.preventDefault();\n        setLoading(true);\n\n        const format = /^[0-9]{5}\\-[0-9]{3}$/;\n\n        if(!format.test(cep)) {\n            alert('invalid cep');\n            setLoading(false);\n            return;\n        } else if(address === '') {\n            alert('fill in all the filds');\n            setLoading(false);\n            return;\n        }\n\n        const buyFormat = {userId, email, cep, address, totalPrice, 'products': selectedProducts};\n\n        const request = axios.post('https://7247bwzla1.execute-api.sa-east-1.amazonaws.com/prod/user/products', buyFormat, { headers: { 'Authorization': `bearer ${token}`}});\n        request.then(() => {\n            alert('success!');\n            history.push('/shop-page');\n        })\n        request.catch((response) => {\n            alert(`${response} - your request has failed please try again`);\n            setLoading(false);\n        })\n    }\n\n    return (\n        <>\n            <Header />\n            <CheckoutContainer>\n                <ProductsContainer>\n                    {selectedProducts.map((prod, i) => (\n                        <Products key={prod.productId + 5*i}> \n                            <p>{i + 1}</p>\n                            <p>{prod.title}</p>\n                            <p>{prod.price.toFixed(2).replace('.', ',')}</p>\n                        </Products>\n                    ))}\n                    <Products>\n                        <p>Total</p>\n                        <p>{totalPrice.toFixed(2).replace('.', ',')}</p>\n                    </Products>\n                    {loading\n                        ? <>\n                            <img src='https://i.gifer.com/GW5A.gif' />\n                            <img src='https://i.gifer.com/GW5A.gif' />\n                            <img src='https://i.gifer.com/GW5A.gif' />\n                        </>\n                        : <form onSubmit={purchaseRequest}>\n                            <DebounceInput\n                                type='text' \n                                minLength={8}\n                                debounceTimeout={300}\n                                onChange={e => setCep(e.target.value)} \n                                value={cep} \n                                placeholder='cep: 12345-678'\n                            />\n                            <DebounceInput \n                                type='text'\n                                element=\"textarea\"\n                                minLength={5}\n                                debounceTimeout={400}\n                                onChange={e => setAddress(e.target.value)} \n                                value={address} \n                                placeholder='address'\n                            />\n                            <button type='submit' >BUY</button>\n                        </form>\n                    }\n                </ProductsContainer>\n            </CheckoutContainer>\n        </>\n    );\n}","import React, { useState } from 'react';\nimport { BrowserRouter as Router, Route, Switch, withRouter } from 'react-router-dom';\n\nimport SessionContext from '../contexts/SessionContext';\nimport SignIn from '../pages/SignIn';\nimport SignUp from '../pages/SignUp';\nimport ShopPage from '../pages/ShopPage';\nimport Checkout from '../pages/Checkout';\n\nexport default function App() {\n\n    const localData = localStorage.data !== undefined ? JSON.parse(localStorage.data) : {};\n    const [session, setSession] = useState(localData);\n\n    return (\n        <SessionContext.Provider value={{ session, setSession }} >\n            <Router>\n                <Switch>\n                    <Route path='/sign-up' component={SignUp} />\n                    <Route path='/checkout' component={Checkout} />\n                    <Route path='/shop-page' component={ShopPage} />\n                    <Route path='/' component={SignIn} />\n                </Switch>\n            </Router>\n        </SessionContext.Provider>\n    );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\n\nvar root = document.querySelector(\"#root\");\n\nReactDOM.render(<App />, root);"],"sourceRoot":""}